{"ast":null,"code":"var _jsxFileName = \"/Users/omvipulbhairashiya/Desktop/untitled folder/frontend/src/pages/Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useQuery, useQueryClient } from 'react-query';\nimport { AlertTriangle, Activity, TrendingUp, MapPin, Clock, Eye, Zap, Users, Timer, AlertCircle } from 'lucide-react';\nimport toast from 'react-hot-toast';\n\n// Components\nimport MapView from '../components/MapView.tsx';\nimport RiskChart from '../components/RiskChart.tsx';\nimport StatCard from '../components/StatCard.tsx';\nimport AlertCard from '../components/AlertCard.tsx';\n\n// API\nimport { fetchCoastalData, getAlertHistory, fetchStatistics, fetchTrends } from '../api/coastalData.ts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [selectedRegion, setSelectedRegion] = useState('all');\n  const [timeRange, setTimeRange] = useState('24h');\n  const [wsStatus, setWsStatus] = useState('disconnected');\n  const [lastUpdate, setLastUpdate] = useState(null);\n  const [realtimeAnalysis, setRealtimeAnalysis] = useState(null);\n\n  // React Query client for cache invalidation\n  const queryClient = useQueryClient();\n\n  // WebSocket connection for real-time updates\n  useEffect(() => {\n    let ws = null;\n    let reconnectTimer = null;\n    let isComponentMounted = true;\n    const connectWebSocket = () => {\n      if (!isComponentMounted) return;\n\n      // Clean up existing connection\n      if (ws && ws.readyState === WebSocket.OPEN) {\n        ws.close();\n      }\n      setWsStatus('connecting');\n      ws = new WebSocket('ws://localhost:8000/ws');\n      ws.onopen = () => {\n        var _ws;\n        if (!isComponentMounted) return;\n        console.log('âœ… WebSocket connected');\n        setWsStatus('connected');\n        toast.success('Real-time connection established', {\n          duration: 2000\n        });\n\n        // Subscribe to real-time updates\n        (_ws = ws) === null || _ws === void 0 ? void 0 : _ws.send(JSON.stringify({\n          type: 'subscribe',\n          topics: ['coastal_data', 'alerts', 'statistics']\n        }));\n      };\n      ws.onmessage = event => {\n        if (!isComponentMounted) return;\n        try {\n          const message = JSON.parse(event.data);\n          console.log('ðŸ“¨ WebSocket message received:', message);\n          setLastUpdate(new Date());\n          if (message.type === 'topic_update') {\n            // Handle real-time data updates\n            if (message.topic === 'coastal_data' || message.topic === 'alerts') {\n              // Update real-time AI analysis\n              updateRealtimeAnalysis(message.data);\n\n              // Trigger refetch of data\n              queryClient.invalidateQueries(['coastalData']);\n              queryClient.invalidateQueries(['statistics']);\n              queryClient.invalidateQueries(['trends']);\n              if (message.topic === 'alerts') {\n                queryClient.invalidateQueries(['alerts']);\n                toast.error('ðŸš¨ New high-risk alert detected!', {\n                  duration: 4000\n                });\n              }\n            }\n          }\n        } catch (error) {\n          console.error('Error parsing WebSocket message:', error);\n        }\n      };\n      ws.onclose = event => {\n        if (!isComponentMounted) return;\n        console.log('âŒ WebSocket disconnected', event.code, event.reason);\n        setWsStatus('disconnected');\n\n        // Only show error toast if it wasn't a normal closure\n        if (event.code !== 1000) {\n          toast.error('Real-time connection lost', {\n            duration: 3000\n          });\n        }\n\n        // Clear any existing reconnect timer\n        if (reconnectTimer) {\n          clearTimeout(reconnectTimer);\n        }\n\n        // Attempt to reconnect after 3 seconds if not a normal closure\n        if (event.code !== 1000 && isComponentMounted) {\n          reconnectTimer = window.setTimeout(() => {\n            if (isComponentMounted) {\n              connectWebSocket();\n            }\n          }, 3000);\n        }\n      };\n      ws.onerror = error => {\n        console.error('WebSocket error:', error);\n        if (isComponentMounted) {\n          setWsStatus('disconnected');\n        }\n      };\n    };\n\n    // Initial connection\n    connectWebSocket();\n\n    // Cleanup function\n    return () => {\n      isComponentMounted = false;\n      if (reconnectTimer) {\n        clearTimeout(reconnectTimer);\n      }\n      if (ws && ws.readyState === WebSocket.OPEN) {\n        ws.close(1000, 'Component unmounting');\n      }\n    };\n  }, [queryClient]);\n\n  // Function to update real-time AI analysis\n  const updateRealtimeAnalysis = data => {\n    if (!data) return;\n    const riskScore = data.risk_score || 0;\n    const location = data.location || 'Unknown';\n\n    // Calculate evacuation recommendations based on risk score\n    let population = 0;\n    let zones = [];\n    let timeframe = '';\n    if (riskScore > 0.9) {\n      population = Math.floor(Math.random() * 50000) + 20000; // 20k-70k people\n      zones = [`${location} Coastal Zone`, `${location} Low-lying Areas`, 'Emergency Shelters'];\n      timeframe = 'Immediate (0-2 hours)';\n    } else if (riskScore > 0.8) {\n      population = Math.floor(Math.random() * 30000) + 10000; // 10k-40k people\n      zones = [`${location} Coastal Zone`, 'Vulnerable Areas'];\n      timeframe = 'Within 4-6 hours';\n    } else if (riskScore > 0.7) {\n      population = Math.floor(Math.random() * 15000) + 5000; // 5k-20k people\n      zones = [`${location} High-risk Areas`];\n      timeframe = 'Within 12 hours';\n    }\n\n    // Calculate alert duration\n    let alertDuration = '';\n    let confidence = 0;\n    if (riskScore > 0.9) {\n      alertDuration = '6-12 hours';\n      confidence = 85;\n    } else if (riskScore > 0.8) {\n      alertDuration = '4-8 hours';\n      confidence = 75;\n    } else {\n      alertDuration = '2-4 hours';\n      confidence = 65;\n    }\n\n    // Determine risk trend\n    const riskTrend = {\n      direction: riskScore > 0.8 ? 'increasing' : riskScore > 0.6 ? 'stable' : 'decreasing',\n      severity: riskScore > 0.9 ? 'critical' : riskScore > 0.8 ? 'high' : riskScore > 0.6 ? 'medium' : 'low'\n    };\n    setRealtimeAnalysis({\n      evacuationRecommendation: {\n        population,\n        zones,\n        timeframe\n      },\n      alertDuration: {\n        estimated: alertDuration,\n        confidence\n      },\n      riskTrend\n    });\n  };\n\n  // Fetch data\n  const {\n    data: coastalData,\n    isLoading: dataLoading\n  } = useQuery(['coastalData', selectedRegion], () => fetchCoastalData({\n    region: selectedRegion === 'all' ? undefined : selectedRegion\n  }), {\n    refetchInterval: 30000\n  } // Refetch every 30 seconds\n  );\n  const {\n    data: statistics,\n    isLoading: statsLoading\n  } = useQuery(['statistics', selectedRegion], () => fetchStatistics(selectedRegion === 'all' ? undefined : selectedRegion));\n  const {\n    data: trends,\n    isLoading: trendsLoading\n  } = useQuery(['trends', selectedRegion, timeRange], () => fetchTrends({\n    region: selectedRegion === 'all' ? undefined : selectedRegion,\n    hours: timeRange === '24h' ? 24 : 168\n  }));\n  const {\n    data: alerts,\n    isLoading: alertsLoading\n  } = useQuery(['alerts'], () => getAlertHistory({\n    limit: 10\n  }));\n\n  // Handle region change\n  const handleRegionChange = region => {\n    setSelectedRegion(region);\n  };\n\n  // Handle time range change\n  const handleTimeRangeChange = range => {\n    setTimeRange(range);\n  };\n\n  // Loading state\n  if (dataLoading || statsLoading || trendsLoading || alertsLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row sm:items-center sm:justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"Coastal Threat Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm text-gray-500\",\n          children: \"Real-time monitoring of coastal threats and risk assessment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-2 h-2 rounded-full ${wsStatus === 'connected' ? 'bg-green-500' : wsStatus === 'connecting' ? 'bg-yellow-500' : 'bg-red-500'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-gray-600\",\n            children: wsStatus === 'connected' ? 'Real-time connected' : wsStatus === 'connecting' ? 'Connecting...' : 'Connection lost'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), lastUpdate && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-gray-500\",\n            children: [\"Last update: \", lastUpdate.toLocaleTimeString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 sm:mt-0 flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          title: \"Select Region\",\n          value: selectedRegion,\n          onChange: e => handleRegionChange(e.target.value),\n          className: \"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"All Regions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Mumbai\",\n            children: \"Mumbai\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Gujarat\",\n            children: \"Gujarat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Chennai\",\n            children: \"Chennai\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          title: \"Select Time Range\",\n          value: timeRange,\n          onChange: e => handleTimeRangeChange(e.target.value),\n          className: \"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"24h\",\n            children: \"Last 24 Hours\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"7d\",\n            children: \"Last 7 Days\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this), realtimeAnalysis && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Zap, {\n          className: \"h-6 w-6 text-blue-600 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-gray-900\",\n          children: \"Real-time AI Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg p-4 border border-blue-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Users, {\n              className: \"h-5 w-5 text-orange-600 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-900\",\n              children: \"Evacuation Recommendation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-orange-600\",\n              children: realtimeAnalysis.evacuationRecommendation.population.toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"People to evacuate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-gray-700\",\n              children: [\"Timeframe: \", realtimeAnalysis.evacuationRecommendation.timeframe]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mb-1\",\n                children: \"Priority Zones:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this), realtimeAnalysis.evacuationRecommendation.zones.map((zone, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"inline-block bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full mr-1 mb-1\",\n                children: zone\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg p-4 border border-blue-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Timer, {\n              className: \"h-5 w-5 text-purple-600 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-900\",\n              children: \"Alert Duration\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-purple-600\",\n              children: realtimeAnalysis.alertDuration.estimated\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Estimated duration\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 bg-gray-200 rounded-full h-2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-purple-600 h-2 rounded-full\",\n                  style: {\n                    width: `${realtimeAnalysis.alertDuration.confidence}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2 text-sm text-gray-600\",\n                children: [realtimeAnalysis.alertDuration.confidence, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg p-4 border border-blue-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n              className: \"h-5 w-5 text-green-600 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-900\",\n              children: \"Risk Trend\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `inline-block w-3 h-3 rounded-full mr-2 ${realtimeAnalysis.riskTrend.direction === 'increasing' ? 'bg-red-500' : realtimeAnalysis.riskTrend.direction === 'decreasing' ? 'bg-green-500' : 'bg-yellow-500'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg font-semibold capitalize\",\n                children: realtimeAnalysis.riskTrend.direction\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"Severity: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `font-medium ${realtimeAnalysis.riskTrend.severity === 'critical' ? 'text-red-600' : realtimeAnalysis.riskTrend.severity === 'high' ? 'text-orange-600' : realtimeAnalysis.riskTrend.severity === 'medium' ? 'text-yellow-600' : 'text-green-600'}`,\n                children: realtimeAnalysis.riskTrend.severity.toUpperCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Total Data Points\",\n        value: (statistics === null || statistics === void 0 ? void 0 : statistics.total_records) || 0,\n        icon: /*#__PURE__*/_jsxDEV(Activity, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 17\n        }, this),\n        trend: {\n          value: 12,\n          isPositive: true\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"High Risk Alerts\",\n        value: (statistics === null || statistics === void 0 ? void 0 : statistics.high_risk_count) || 0,\n        icon: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 17\n        }, this),\n        trend: {\n          value: 5,\n          isPositive: false\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Average Risk Score\",\n        value: statistics !== null && statistics !== void 0 && statistics.avg_risk_score ? (statistics.avg_risk_score * 100).toFixed(1) + '%' : '0%',\n        icon: /*#__PURE__*/_jsxDEV(TrendingUp, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 17\n        }, this),\n        trend: {\n          value: 3,\n          isPositive: false\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Active Regions\",\n        value: (statistics === null || statistics === void 0 ? void 0 : statistics.active_regions) || 0,\n        icon: /*#__PURE__*/_jsxDEV(MapPin, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 17\n        }, this),\n        trend: {\n          value: 1,\n          isPositive: true\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold\",\n            children: \"Risk Trends\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-sm text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(Clock, {\n              className: \"h-4 w-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 15\n            }, this), timeRange === '24h' ? 'Last 24 Hours' : 'Last 7 Days']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RiskChart, {\n          data: (trends === null || trends === void 0 ? void 0 : trends.chart_data) || []\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold\",\n            children: \"Geographic Distribution\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-sm text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(Eye, {\n              className: \"h-4 w-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 15\n            }, this), selectedRegion === 'all' ? 'All Regions' : selectedRegion]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MapView, {\n          data: coastalData || []\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            className: \"h-5 w-5 mr-2 text-red-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this), \"Recent Alerts\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: alerts && alerts.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: alerts.slice(0, 5).map((alert, index) => /*#__PURE__*/_jsxDEV(AlertCard, {\n            alert: alert\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 text-center py-8\",\n          children: \"No recent alerts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 264,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"t7IQAOB+dMMf6kce2xqDPEF4YyA=\", false, function () {\n  return [useQueryClient, useQuery, useQuery, useQuery, useQuery];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useQuery","useQueryClient","AlertTriangle","Activity","TrendingUp","MapPin","Clock","Eye","Zap","Users","Timer","AlertCircle","toast","MapView","RiskChart","StatCard","AlertCard","fetchCoastalData","getAlertHistory","fetchStatistics","fetchTrends","jsxDEV","_jsxDEV","Dashboard","_s","selectedRegion","setSelectedRegion","timeRange","setTimeRange","wsStatus","setWsStatus","lastUpdate","setLastUpdate","realtimeAnalysis","setRealtimeAnalysis","queryClient","ws","reconnectTimer","isComponentMounted","connectWebSocket","readyState","WebSocket","OPEN","close","onopen","_ws","console","log","success","duration","send","JSON","stringify","type","topics","onmessage","event","message","parse","data","Date","topic","updateRealtimeAnalysis","invalidateQueries","error","onclose","code","reason","clearTimeout","window","setTimeout","onerror","riskScore","risk_score","location","population","zones","timeframe","Math","floor","random","alertDuration","confidence","riskTrend","direction","severity","evacuationRecommendation","estimated","coastalData","isLoading","dataLoading","region","undefined","refetchInterval","statistics","statsLoading","trends","trendsLoading","hours","alerts","alertsLoading","limit","handleRegionChange","handleTimeRangeChange","range","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleTimeString","title","value","onChange","e","target","toLocaleString","map","zone","index","style","width","toUpperCase","total_records","icon","trend","isPositive","high_risk_count","avg_risk_score","toFixed","active_regions","chart_data","length","slice","alert","_c","$RefreshReg$"],"sources":["/Users/omvipulbhairashiya/Desktop/untitled folder/frontend/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useQuery, useQueryClient } from 'react-query';\nimport { \n  AlertTriangle, \n  Activity, \n  TrendingUp, \n  MapPin, \n  Clock,\n  Eye,\n  Zap,\n  Users,\n  Timer,\n  AlertCircle\n} from 'lucide-react';\nimport toast from 'react-hot-toast';\n\n// Components\nimport MapView from '../components/MapView.tsx';\nimport RiskChart from '../components/RiskChart.tsx';\nimport StatCard from '../components/StatCard.tsx';\nimport AlertCard from '../components/AlertCard.tsx';\n\n// API\nimport { fetchCoastalData, getAlertHistory, fetchStatistics, fetchTrends } from '../api/coastalData.ts';\n\ninterface RealtimeAnalysis {\n  evacuationRecommendation: {\n    population: number;\n    zones: string[];\n    timeframe: string;\n  };\n  alertDuration: {\n    estimated: string;\n    confidence: number;\n  };\n  riskTrend: {\n    direction: 'increasing' | 'decreasing' | 'stable';\n    severity: 'low' | 'medium' | 'high' | 'critical';\n  };\n}\n\nconst Dashboard: React.FC = () => {\n  const [selectedRegion, setSelectedRegion] = useState<string>('all');\n  const [timeRange, setTimeRange] = useState<string>('24h');\n  const [wsStatus, setWsStatus] = useState<'connecting' | 'connected' | 'disconnected'>('disconnected');\n  const [lastUpdate, setLastUpdate] = useState<Date | null>(null);\n  const [realtimeAnalysis, setRealtimeAnalysis] = useState<RealtimeAnalysis | null>(null);\n  \n  // React Query client for cache invalidation\n  const queryClient = useQueryClient();\n\n  // WebSocket connection for real-time updates\n  useEffect(() => {\n    let ws: WebSocket | null = null;\n    let reconnectTimer: number | null = null;\n    let isComponentMounted = true;\n    \n    const connectWebSocket = () => {\n      if (!isComponentMounted) return;\n      \n      // Clean up existing connection\n      if (ws && ws.readyState === WebSocket.OPEN) {\n        ws.close();\n      }\n      \n      setWsStatus('connecting');\n      ws = new WebSocket('ws://localhost:8000/ws');\n      \n      ws.onopen = () => {\n        if (!isComponentMounted) return;\n        console.log('âœ… WebSocket connected');\n        setWsStatus('connected');\n        toast.success('Real-time connection established', { duration: 2000 });\n        \n        // Subscribe to real-time updates\n        ws?.send(JSON.stringify({\n          type: 'subscribe',\n          topics: ['coastal_data', 'alerts', 'statistics']\n        }));\n      };\n      \n      ws.onmessage = (event) => {\n        if (!isComponentMounted) return;\n        \n        try {\n          const message = JSON.parse(event.data);\n          console.log('ðŸ“¨ WebSocket message received:', message);\n          setLastUpdate(new Date());\n          \n          if (message.type === 'topic_update') {\n            // Handle real-time data updates\n            if (message.topic === 'coastal_data' || message.topic === 'alerts') {\n              // Update real-time AI analysis\n              updateRealtimeAnalysis(message.data);\n              \n              // Trigger refetch of data\n              queryClient.invalidateQueries(['coastalData']);\n              queryClient.invalidateQueries(['statistics']);\n              queryClient.invalidateQueries(['trends']);\n              \n              if (message.topic === 'alerts') {\n                queryClient.invalidateQueries(['alerts']);\n                toast.error('ðŸš¨ New high-risk alert detected!', { duration: 4000 });\n              }\n            }\n          }\n        } catch (error) {\n          console.error('Error parsing WebSocket message:', error);\n        }\n      };\n      \n      ws.onclose = (event) => {\n        if (!isComponentMounted) return;\n        \n        console.log('âŒ WebSocket disconnected', event.code, event.reason);\n        setWsStatus('disconnected');\n        \n        // Only show error toast if it wasn't a normal closure\n        if (event.code !== 1000) {\n          toast.error('Real-time connection lost', { duration: 3000 });\n        }\n        \n        // Clear any existing reconnect timer\n        if (reconnectTimer) {\n          clearTimeout(reconnectTimer);\n        }\n        \n        // Attempt to reconnect after 3 seconds if not a normal closure\n        if (event.code !== 1000 && isComponentMounted) {\n          reconnectTimer = window.setTimeout(() => {\n            if (isComponentMounted) {\n              connectWebSocket();\n            }\n          }, 3000);\n        }\n      };\n      \n      ws.onerror = (error) => {\n        console.error('WebSocket error:', error);\n        if (isComponentMounted) {\n          setWsStatus('disconnected');\n        }\n      };\n    };\n    \n    // Initial connection\n    connectWebSocket();\n    \n    // Cleanup function\n    return () => {\n      isComponentMounted = false;\n      if (reconnectTimer) {\n        clearTimeout(reconnectTimer);\n      }\n      if (ws && ws.readyState === WebSocket.OPEN) {\n        ws.close(1000, 'Component unmounting');\n      }\n    };\n  }, [queryClient]);\n\n  // Function to update real-time AI analysis\n  const updateRealtimeAnalysis = (data: any) => {\n    if (!data) return;\n    \n    const riskScore = data.risk_score || 0;\n    const location = data.location || 'Unknown';\n    \n    // Calculate evacuation recommendations based on risk score\n    let population = 0;\n    let zones: string[] = [];\n    let timeframe = '';\n    \n    if (riskScore > 0.9) {\n      population = Math.floor(Math.random() * 50000) + 20000; // 20k-70k people\n      zones = [`${location} Coastal Zone`, `${location} Low-lying Areas`, 'Emergency Shelters'];\n      timeframe = 'Immediate (0-2 hours)';\n    } else if (riskScore > 0.8) {\n      population = Math.floor(Math.random() * 30000) + 10000; // 10k-40k people\n      zones = [`${location} Coastal Zone`, 'Vulnerable Areas'];\n      timeframe = 'Within 4-6 hours';\n    } else if (riskScore > 0.7) {\n      population = Math.floor(Math.random() * 15000) + 5000; // 5k-20k people\n      zones = [`${location} High-risk Areas`];\n      timeframe = 'Within 12 hours';\n    }\n    \n    // Calculate alert duration\n    let alertDuration = '';\n    let confidence = 0;\n    \n    if (riskScore > 0.9) {\n      alertDuration = '6-12 hours';\n      confidence = 85;\n    } else if (riskScore > 0.8) {\n      alertDuration = '4-8 hours';\n      confidence = 75;\n    } else {\n      alertDuration = '2-4 hours';\n      confidence = 65;\n    }\n    \n    // Determine risk trend\n    const riskTrend = {\n      direction: riskScore > 0.8 ? 'increasing' : riskScore > 0.6 ? 'stable' : 'decreasing' as 'increasing' | 'decreasing' | 'stable',\n      severity: riskScore > 0.9 ? 'critical' : riskScore > 0.8 ? 'high' : riskScore > 0.6 ? 'medium' : 'low' as 'low' | 'medium' | 'high' | 'critical'\n    };\n    \n    setRealtimeAnalysis({\n      evacuationRecommendation: {\n        population,\n        zones,\n        timeframe\n      },\n      alertDuration: {\n        estimated: alertDuration,\n        confidence\n      },\n      riskTrend\n    });\n  };\n\n  // Fetch data\n  const { data: coastalData, isLoading: dataLoading } = useQuery(\n    ['coastalData', selectedRegion],\n    () => fetchCoastalData({ region: selectedRegion === 'all' ? undefined : selectedRegion }),\n    { refetchInterval: 30000 } // Refetch every 30 seconds\n  );\n\n  const { data: statistics, isLoading: statsLoading } = useQuery(\n    ['statistics', selectedRegion],\n    () => fetchStatistics(selectedRegion === 'all' ? undefined : selectedRegion)\n  );\n\n  const { data: trends, isLoading: trendsLoading } = useQuery(\n    ['trends', selectedRegion, timeRange],\n    () => fetchTrends({ region: selectedRegion === 'all' ? undefined : selectedRegion, hours: timeRange === '24h' ? 24 : 168 })\n  );\n\n  const { data: alerts, isLoading: alertsLoading } = useQuery(\n    ['alerts'],\n    () => getAlertHistory({ limit: 10 })\n  );\n\n  // Handle region change\n  const handleRegionChange = (region: string) => {\n    setSelectedRegion(region);\n  };\n\n  // Handle time range change\n  const handleTimeRangeChange = (range: string) => {\n    setTimeRange(range);\n  };\n\n  // Loading state\n  if (dataLoading || statsLoading || trendsLoading || alertsLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Coastal Threat Dashboard</h1>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            Real-time monitoring of coastal threats and risk assessment\n          </p>\n          {/* Connection Status */}\n          <div className=\"mt-2 flex items-center space-x-2\">\n            <div className={`w-2 h-2 rounded-full ${\n              wsStatus === 'connected' ? 'bg-green-500' : \n              wsStatus === 'connecting' ? 'bg-yellow-500' : 'bg-red-500'\n            }`}></div>\n            <span className=\"text-xs text-gray-600\">\n              {wsStatus === 'connected' ? 'Real-time connected' : \n               wsStatus === 'connecting' ? 'Connecting...' : 'Connection lost'}\n            </span>\n            {lastUpdate && (\n              <span className=\"text-xs text-gray-500\">\n                Last update: {lastUpdate.toLocaleTimeString()}\n              </span>\n            )}\n          </div>\n        </div>\n        \n        <div className=\"mt-4 sm:mt-0 flex items-center space-x-4\">\n          {/* Region Selector */}\n          <select\n            title=\"Select Region\"\n            value={selectedRegion}\n            onChange={(e) => handleRegionChange(e.target.value)}\n            className=\"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"all\">All Regions</option>\n            <option value=\"Mumbai\">Mumbai</option>\n            <option value=\"Gujarat\">Gujarat</option>\n            <option value=\"Chennai\">Chennai</option>\n          </select>\n          \n          {/* Time Range Selector */}\n          <select\n            title=\"Select Time Range\"\n            value={timeRange}\n            onChange={(e) => handleTimeRangeChange(e.target.value)}\n            className=\"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"24h\">Last 24 Hours</option>\n            <option value=\"7d\">Last 7 Days</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Real-time AI Analysis Section */}\n      {realtimeAnalysis && (\n        <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200\">\n          <div className=\"flex items-center mb-4\">\n            <Zap className=\"h-6 w-6 text-blue-600 mr-2\" />\n            <h2 className=\"text-xl font-semibold text-gray-900\">Real-time AI Analysis</h2>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            {/* Evacuation Recommendation */}\n            <div className=\"bg-white rounded-lg p-4 border border-blue-100\">\n              <div className=\"flex items-center mb-3\">\n                <Users className=\"h-5 w-5 text-orange-600 mr-2\" />\n                <h3 className=\"font-semibold text-gray-900\">Evacuation Recommendation</h3>\n              </div>\n              <div className=\"space-y-2\">\n                <p className=\"text-2xl font-bold text-orange-600\">\n                  {realtimeAnalysis.evacuationRecommendation.population.toLocaleString()}\n                </p>\n                <p className=\"text-sm text-gray-600\">People to evacuate</p>\n                <p className=\"text-sm font-medium text-gray-700\">\n                  Timeframe: {realtimeAnalysis.evacuationRecommendation.timeframe}\n                </p>\n                <div className=\"mt-2\">\n                  <p className=\"text-xs text-gray-500 mb-1\">Priority Zones:</p>\n                  {realtimeAnalysis.evacuationRecommendation.zones.map((zone, index) => (\n                    <span key={index} className=\"inline-block bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full mr-1 mb-1\">\n                      {zone}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Alert Duration */}\n            <div className=\"bg-white rounded-lg p-4 border border-blue-100\">\n              <div className=\"flex items-center mb-3\">\n                <Timer className=\"h-5 w-5 text-purple-600 mr-2\" />\n                <h3 className=\"font-semibold text-gray-900\">Alert Duration</h3>\n              </div>\n              <div className=\"space-y-2\">\n                <p className=\"text-2xl font-bold text-purple-600\">\n                  {realtimeAnalysis.alertDuration.estimated}\n                </p>\n                <p className=\"text-sm text-gray-600\">Estimated duration</p>\n                <div className=\"flex items-center\">\n                  <div className=\"flex-1 bg-gray-200 rounded-full h-2\">\n                    <div \n                      className=\"bg-purple-600 h-2 rounded-full\" \n                      style={{\n                        width: `${realtimeAnalysis.alertDuration.confidence}%`\n                      }}\n                    ></div>\n                  </div>\n                  <span className=\"ml-2 text-sm text-gray-600\">\n                    {realtimeAnalysis.alertDuration.confidence}%\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            {/* Risk Trend */}\n            <div className=\"bg-white rounded-lg p-4 border border-blue-100\">\n              <div className=\"flex items-center mb-3\">\n                <TrendingUp className=\"h-5 w-5 text-green-600 mr-2\" />\n                <h3 className=\"font-semibold text-gray-900\">Risk Trend</h3>\n              </div>\n              <div className=\"space-y-2\">\n                <div className=\"flex items-center\">\n                  <span className={`inline-block w-3 h-3 rounded-full mr-2 ${\n                    realtimeAnalysis.riskTrend.direction === 'increasing' ? 'bg-red-500' :\n                    realtimeAnalysis.riskTrend.direction === 'decreasing' ? 'bg-green-500' : 'bg-yellow-500'\n                  }`}></span>\n                  <p className=\"text-lg font-semibold capitalize\">\n                    {realtimeAnalysis.riskTrend.direction}\n                  </p>\n                </div>\n                <p className=\"text-sm text-gray-600\">\n                  Severity: <span className={`font-medium ${\n                    realtimeAnalysis.riskTrend.severity === 'critical' ? 'text-red-600' :\n                    realtimeAnalysis.riskTrend.severity === 'high' ? 'text-orange-600' :\n                    realtimeAnalysis.riskTrend.severity === 'medium' ? 'text-yellow-600' : 'text-green-600'\n                  }`}>\n                    {realtimeAnalysis.riskTrend.severity.toUpperCase()}\n                  </span>\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <StatCard\n          title=\"Total Data Points\"\n          value={statistics?.total_records || 0}\n          icon={<Activity className=\"h-5 w-5\" />}\n          trend={{ value: 12, isPositive: true }}\n        />\n        <StatCard\n          title=\"High Risk Alerts\"\n          value={statistics?.high_risk_count || 0}\n          icon={<AlertTriangle className=\"h-5 w-5\" />}\n          trend={{ value: 5, isPositive: false }}\n        />\n        <StatCard\n          title=\"Average Risk Score\"\n          value={statistics?.avg_risk_score ? (statistics.avg_risk_score * 100).toFixed(1) + '%' : '0%'}\n          icon={<TrendingUp className=\"h-5 w-5\" />}\n          trend={{ value: 3, isPositive: false }}\n        />\n        <StatCard\n          title=\"Active Regions\"\n          value={statistics?.active_regions || 0}\n          icon={<MapPin className=\"h-5 w-5\" />}\n          trend={{ value: 1, isPositive: true }}\n        />\n      </div>\n\n      {/* Charts and Map */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Risk Trends Chart */}\n        <div className=\"bg-white p-6 rounded-lg shadow\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold\">Risk Trends</h3>\n            <div className=\"flex items-center text-sm text-gray-500\">\n              <Clock className=\"h-4 w-4 mr-1\" />\n              {timeRange === '24h' ? 'Last 24 Hours' : 'Last 7 Days'}\n            </div>\n          </div>\n          <RiskChart data={trends?.chart_data || []} />\n        </div>\n\n        {/* Map View */}\n        <div className=\"bg-white p-6 rounded-lg shadow\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold\">Geographic Distribution</h3>\n            <div className=\"flex items-center text-sm text-gray-500\">\n              <Eye className=\"h-4 w-4 mr-1\" />\n              {selectedRegion === 'all' ? 'All Regions' : selectedRegion}\n            </div>\n          </div>\n          <MapView data={coastalData || []} />\n        </div>\n      </div>\n\n      {/* Recent Alerts */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-semibold flex items-center\">\n            <AlertCircle className=\"h-5 w-5 mr-2 text-red-500\" />\n            Recent Alerts\n          </h3>\n        </div>\n        <div className=\"p-6\">\n          {alerts && alerts.length > 0 ? (\n            <div className=\"space-y-4\">\n              {alerts.slice(0, 5).map((alert: any, index: number) => (\n                <AlertCard key={index} alert={alert} />\n              ))}\n            </div>\n          ) : (\n            <p className=\"text-gray-500 text-center py-8\">No recent alerts</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}