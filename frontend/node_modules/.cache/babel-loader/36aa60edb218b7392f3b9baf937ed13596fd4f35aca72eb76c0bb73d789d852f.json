{"ast":null,"code":"var _jsxFileName = \"/Users/omvipulbhairashiya/Desktop/untitled folder/frontend/src/pages/Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useQuery, useQueryClient } from 'react-query';\nimport { AlertTriangle, Activity, TrendingUp, MapPin, Clock, Eye, Zap, Users, Timer, AlertCircle } from 'lucide-react';\nimport toast from 'react-hot-toast';\n\n// Components\nimport MapView from '../components/MapView.tsx';\nimport RiskChart from '../components/RiskChart.tsx';\nimport StatCard from '../components/StatCard.tsx';\nimport AlertCard from '../components/AlertCard.tsx';\n\n// API\nimport { fetchCoastalData, getAlertHistory, fetchStatistics, fetchTrends } from '../api/coastalData.ts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [selectedRegion, setSelectedRegion] = useState('all');\n  const [timeRange, setTimeRange] = useState('24h');\n  const [wsStatus, setWsStatus] = useState('disconnected');\n  const [lastUpdate, setLastUpdate] = useState(null);\n  const [realtimeAnalysis, setRealtimeAnalysis] = useState(null);\n\n  // React Query client for cache invalidation\n  const queryClient = useQueryClient();\n\n  // WebSocket connection for real-time updates\n  useEffect(() => {\n    let ws = null;\n    let reconnectTimer = null;\n    let isComponentMounted = true;\n    const connectWebSocket = () => {\n      if (!isComponentMounted) return;\n\n      // Clean up existing connection\n      if (ws && ws.readyState === WebSocket.OPEN) {\n        ws.close();\n      }\n      setWsStatus('connecting');\n      ws = new WebSocket('ws://localhost:8000/ws');\n      ws.onopen = () => {\n        var _ws;\n        if (!isComponentMounted) return;\n        console.log('âœ… WebSocket connected');\n        setWsStatus('connected');\n        toast.success('Real-time connection established', {\n          duration: 2000\n        });\n\n        // Subscribe to real-time updates\n        (_ws = ws) === null || _ws === void 0 ? void 0 : _ws.send(JSON.stringify({\n          type: 'subscribe',\n          topics: ['coastal_data', 'alerts', 'statistics']\n        }));\n      };\n      ws.onmessage = event => {\n        if (!isComponentMounted) return;\n        try {\n          const message = JSON.parse(event.data);\n          console.log('ðŸ“¨ WebSocket message received:', message);\n          setLastUpdate(new Date());\n          if (message.type === 'topic_update') {\n            // Handle real-time data updates\n            if (message.topic === 'coastal_data' || message.topic === 'alerts') {\n              var _message$data;\n              // If we have enhanced AI analysis from the server, use it directly\n              if ((_message$data = message.data) !== null && _message$data !== void 0 && _message$data.ai_analysis) {\n                const aiData = message.data.ai_analysis;\n                setRealtimeAnalysis({\n                  evacuationRecommendation: aiData.evacuation_recommendation,\n                  alertDuration: aiData.alert_duration,\n                  riskTrend: aiData.risk_trend,\n                  threatDetails: aiData.threat_details || {\n                    stormSurge: {\n                      risk: 0.7,\n                      height: \"2.5m\",\n                      impact: \"Moderate coastal flooding expected\"\n                    },\n                    coastalErosion: {\n                      rate: \"1.2m/year\",\n                      area: \"15 hectares\",\n                      urgency: \"Medium\"\n                    },\n                    pollution: {\n                      level: \"Moderate\",\n                      type: \"Industrial runoff\",\n                      source: \"Upstream facilities\"\n                    },\n                    illegalActivity: {\n                      detected: false,\n                      type: \"None\",\n                      location: \"N/A\"\n                    },\n                    blueCarbonThreat: {\n                      habitatRisk: 0.6,\n                      carbonLoss: \"150 tons CO2/year\",\n                      priority: \"High\"\n                    }\n                  },\n                  dataSourceStatus: aiData.data_sources || {\n                    sensors: {\n                      active: 12,\n                      total: 15,\n                      lastUpdate: \"2 minutes ago\"\n                    },\n                    satellite: {\n                      status: \"Operational\",\n                      coverage: \"95%\",\n                      freshness: \"6 hours\"\n                    },\n                    historical: {\n                      records: 50000,\n                      timespan: \"20 years\",\n                      accuracy: \"98%\"\n                    }\n                  }\n                });\n              } else {\n                // Fallback to client-side analysis\n                updateRealtimeAnalysis(message.data);\n              }\n\n              // Trigger refetch of data\n              queryClient.invalidateQueries(['coastalData']);\n              queryClient.invalidateQueries(['statistics']);\n              queryClient.invalidateQueries(['trends']);\n              if (message.topic === 'alerts') {\n                queryClient.invalidateQueries(['alerts']);\n                toast.error('ðŸš¨ New high-risk alert detected!', {\n                  duration: 4000\n                });\n              }\n            }\n          }\n        } catch (error) {\n          console.error('Error parsing WebSocket message:', error);\n        }\n      };\n      ws.onclose = event => {\n        if (!isComponentMounted) return;\n        console.log('âŒ WebSocket disconnected', event.code, event.reason);\n        setWsStatus('disconnected');\n\n        // Only show error toast if it wasn't a normal closure\n        if (event.code !== 1000) {\n          toast.error('Real-time connection lost', {\n            duration: 3000\n          });\n        }\n\n        // Clear any existing reconnect timer\n        if (reconnectTimer) {\n          clearTimeout(reconnectTimer);\n        }\n\n        // Attempt to reconnect after 3 seconds if not a normal closure\n        if (event.code !== 1000 && isComponentMounted) {\n          reconnectTimer = window.setTimeout(() => {\n            if (isComponentMounted) {\n              connectWebSocket();\n            }\n          }, 3000);\n        }\n      };\n      ws.onerror = error => {\n        console.error('WebSocket error:', error);\n        if (isComponentMounted) {\n          setWsStatus('disconnected');\n        }\n      };\n    };\n\n    // Initial connection\n    connectWebSocket();\n\n    // Cleanup function\n    return () => {\n      isComponentMounted = false;\n      if (reconnectTimer) {\n        clearTimeout(reconnectTimer);\n      }\n      if (ws && ws.readyState === WebSocket.OPEN) {\n        ws.close(1000, 'Component unmounting');\n      }\n    };\n  }, [queryClient]);\n\n  // Function to update real-time AI analysis\n  const updateRealtimeAnalysis = data => {\n    if (!data) return;\n    const riskScore = data.risk_score || 0;\n    const location = data.location || 'Unknown';\n\n    // Calculate evacuation recommendations based on risk score\n    let population = 0;\n    let zones = [];\n    let timeframe = '';\n    if (riskScore > 0.9) {\n      population = Math.floor(Math.random() * 50000) + 20000; // 20k-70k people\n      zones = [`${location} Coastal Zone`, `${location} Low-lying Areas`, 'Emergency Shelters'];\n      timeframe = 'Immediate (0-2 hours)';\n    } else if (riskScore > 0.8) {\n      population = Math.floor(Math.random() * 30000) + 10000; // 10k-40k people\n      zones = [`${location} Coastal Zone`, 'Vulnerable Areas'];\n      timeframe = 'Within 4-6 hours';\n    } else if (riskScore > 0.7) {\n      population = Math.floor(Math.random() * 15000) + 5000; // 5k-20k people\n      zones = [`${location} High-risk Areas`];\n      timeframe = 'Within 12 hours';\n    }\n\n    // Calculate alert duration\n    let alertDuration = '';\n    let confidence = 0;\n    if (riskScore > 0.9) {\n      alertDuration = '6-12 hours';\n      confidence = 85;\n    } else if (riskScore > 0.8) {\n      alertDuration = '4-8 hours';\n      confidence = 75;\n    } else {\n      alertDuration = '2-4 hours';\n      confidence = 65;\n    }\n\n    // Determine risk trend\n    const riskTrend = {\n      direction: riskScore > 0.8 ? 'increasing' : riskScore > 0.6 ? 'stable' : 'decreasing',\n      severity: riskScore > 0.9 ? 'critical' : riskScore > 0.8 ? 'high' : riskScore > 0.6 ? 'medium' : 'low'\n    };\n    setRealtimeAnalysis({\n      evacuationRecommendation: {\n        population,\n        zones,\n        timeframe\n      },\n      alertDuration: {\n        estimated: alertDuration,\n        confidence\n      },\n      riskTrend,\n      threatDetails: {\n        stormSurge: {\n          risk: riskScore,\n          height: riskScore > 0.8 ? \"3.5m\" : riskScore > 0.6 ? \"2.5m\" : \"1.5m\",\n          impact: riskScore > 0.8 ? \"Severe flooding expected\" : \"Moderate coastal impact\"\n        },\n        coastalErosion: {\n          rate: riskScore > 0.7 ? \"2.1m/year\" : \"0.8m/year\",\n          area: `${Math.floor(riskScore * 25)} hectares`,\n          urgency: riskScore > 0.8 ? \"High\" : \"Medium\"\n        },\n        pollution: {\n          level: riskScore > 0.7 ? \"High\" : \"Moderate\",\n          type: \"Multiple sources\",\n          source: \"Industrial and urban runoff\"\n        },\n        illegalActivity: {\n          detected: riskScore > 0.9,\n          type: riskScore > 0.9 ? \"Illegal dumping detected\" : \"None\",\n          location: riskScore > 0.9 ? location : \"N/A\"\n        },\n        blueCarbonThreat: {\n          habitatRisk: riskScore * 0.8,\n          carbonLoss: `${Math.floor(riskScore * 200)} tons CO2/year`,\n          priority: riskScore > 0.8 ? \"Critical\" : riskScore > 0.6 ? \"High\" : \"Medium\"\n        }\n      },\n      dataSourceStatus: {\n        sensors: {\n          active: Math.floor(Math.random() * 3) + 10,\n          total: 15,\n          lastUpdate: \"Real-time\"\n        },\n        satellite: {\n          status: \"Operational\",\n          coverage: `${Math.floor(90 + Math.random() * 10)}%`,\n          freshness: \"4 hours\"\n        },\n        historical: {\n          records: 45000 + Math.floor(Math.random() * 10000),\n          timespan: \"20 years\",\n          accuracy: \"98%\"\n        }\n      }\n    });\n  };\n\n  // Fetch data\n  const {\n    data: coastalData,\n    isLoading: dataLoading\n  } = useQuery(['coastalData', selectedRegion], () => fetchCoastalData({\n    region: selectedRegion === 'all' ? undefined : selectedRegion\n  }), {\n    refetchInterval: 30000\n  } // Refetch every 30 seconds\n  );\n  const {\n    data: statistics,\n    isLoading: statsLoading\n  } = useQuery(['statistics', selectedRegion], () => fetchStatistics(selectedRegion === 'all' ? undefined : selectedRegion));\n  const {\n    data: trends,\n    isLoading: trendsLoading\n  } = useQuery(['trends', selectedRegion, timeRange], () => fetchTrends({\n    region: selectedRegion === 'all' ? undefined : selectedRegion,\n    hours: timeRange === '24h' ? 24 : 168\n  }));\n  const {\n    data: alerts,\n    isLoading: alertsLoading\n  } = useQuery(['alerts'], () => getAlertHistory({\n    limit: 10\n  }));\n\n  // Handle region change\n  const handleRegionChange = region => {\n    setSelectedRegion(region);\n  };\n\n  // Handle time range change\n  const handleTimeRangeChange = range => {\n    setTimeRange(range);\n  };\n\n  // Loading state\n  if (dataLoading || statsLoading || trendsLoading || alertsLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row sm:items-center sm:justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"Coastal Threat Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm text-gray-500\",\n          children: \"Real-time monitoring of coastal threats and risk assessment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-2 h-2 rounded-full ${wsStatus === 'connected' ? 'bg-green-500' : wsStatus === 'connecting' ? 'bg-yellow-500' : 'bg-red-500'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-gray-600\",\n            children: wsStatus === 'connected' ? 'Real-time connected' : wsStatus === 'connecting' ? 'Connecting...' : 'Connection lost'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this), lastUpdate && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-gray-500\",\n            children: [\"Last update: \", lastUpdate.toLocaleTimeString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 sm:mt-0 flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          title: \"Select Region\",\n          value: selectedRegion,\n          onChange: e => handleRegionChange(e.target.value),\n          className: \"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"All Regions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Mumbai\",\n            children: \"Mumbai\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Gujarat\",\n            children: \"Gujarat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Chennai\",\n            children: \"Chennai\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          title: \"Select Time Range\",\n          value: timeRange,\n          onChange: e => handleTimeRangeChange(e.target.value),\n          className: \"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"24h\",\n            children: \"Last 24 Hours\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"7d\",\n            children: \"Last 7 Days\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this), realtimeAnalysis && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Zap, {\n          className: \"h-6 w-6 text-blue-600 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-gray-900\",\n          children: \"Real-time AI Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg p-4 border border-blue-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Users, {\n              className: \"h-5 w-5 text-orange-600 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-900\",\n              children: \"Evacuation Recommendation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-orange-600\",\n              children: realtimeAnalysis.evacuationRecommendation.population.toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"People to evacuate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-gray-700\",\n              children: [\"Timeframe: \", realtimeAnalysis.evacuationRecommendation.timeframe]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mb-1\",\n                children: \"Priority Zones:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 19\n              }, this), realtimeAnalysis.evacuationRecommendation.zones.map((zone, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"inline-block bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full mr-1 mb-1\",\n                children: zone\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg p-4 border border-blue-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Timer, {\n              className: \"h-5 w-5 text-purple-600 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-900\",\n              children: \"Alert Duration\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-purple-600\",\n              children: realtimeAnalysis.alertDuration.estimated\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Estimated duration\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 bg-gray-200 rounded-full h-2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-purple-600 h-2 rounded-full transition-all duration-500\",\n                  style: {\n                    width: `${realtimeAnalysis.alertDuration.confidence}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2 text-sm text-gray-600\",\n                children: [realtimeAnalysis.alertDuration.confidence, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg p-4 border border-blue-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n              className: \"h-5 w-5 text-green-600 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-900\",\n              children: \"Risk Trend\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `inline-block w-3 h-3 rounded-full mr-2 ${realtimeAnalysis.riskTrend.direction === 'increasing' ? 'bg-red-500' : realtimeAnalysis.riskTrend.direction === 'decreasing' ? 'bg-green-500' : 'bg-yellow-500'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg font-semibold capitalize\",\n                children: realtimeAnalysis.riskTrend.direction\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"Severity: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `font-medium ${realtimeAnalysis.riskTrend.severity === 'critical' ? 'text-red-600' : realtimeAnalysis.riskTrend.severity === 'high' ? 'text-orange-600' : realtimeAnalysis.riskTrend.severity === 'medium' ? 'text-yellow-600' : 'text-green-600'}`,\n                children: realtimeAnalysis.riskTrend.severity.toUpperCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Total Data Points\",\n        value: (statistics === null || statistics === void 0 ? void 0 : statistics.total_records) || 0,\n        icon: Activity,\n        change: \"+12%\",\n        changeType: \"positive\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"High Risk Alerts\",\n        value: (statistics === null || statistics === void 0 ? void 0 : statistics.high_risk_count) || 0,\n        icon: AlertTriangle,\n        change: \"+5%\",\n        changeType: \"negative\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Average Risk Score\",\n        value: statistics !== null && statistics !== void 0 && statistics.avg_risk_score ? (statistics.avg_risk_score * 100).toFixed(1) + '%' : '0%',\n        icon: TrendingUp,\n        change: \"+3%\",\n        changeType: \"negative\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Active Regions\",\n        value: (statistics === null || statistics === void 0 ? void 0 : statistics.active_regions) || 0,\n        icon: MapPin,\n        change: \"+1\",\n        changeType: \"positive\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold\",\n            children: \"Risk Trends\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-sm text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(Clock, {\n              className: \"h-4 w-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 15\n            }, this), timeRange === '24h' ? 'Last 24 Hours' : 'Last 7 Days']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RiskChart, {\n          data: (trends === null || trends === void 0 ? void 0 : trends.chart_data) || []\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold\",\n            children: \"Geographic Distribution\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-sm text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(Eye, {\n              className: \"h-4 w-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 15\n            }, this), selectedRegion === 'all' ? 'All Regions' : selectedRegion]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MapView, {\n          data: coastalData || [],\n          selectedRegion: selectedRegion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            className: \"h-5 w-5 mr-2 text-red-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 13\n          }, this), \"Recent Alerts\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: alerts && alerts.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: alerts.slice(0, 5).map((alert, index) => /*#__PURE__*/_jsxDEV(AlertCard, {\n            alert: alert\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 text-center py-8\",\n          children: \"No recent alerts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 572,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 557,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 352,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"t7IQAOB+dMMf6kce2xqDPEF4YyA=\", false, function () {\n  return [useQueryClient, useQuery, useQuery, useQuery, useQuery];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useQuery","useQueryClient","AlertTriangle","Activity","TrendingUp","MapPin","Clock","Eye","Zap","Users","Timer","AlertCircle","toast","MapView","RiskChart","StatCard","AlertCard","fetchCoastalData","getAlertHistory","fetchStatistics","fetchTrends","jsxDEV","_jsxDEV","Dashboard","_s","selectedRegion","setSelectedRegion","timeRange","setTimeRange","wsStatus","setWsStatus","lastUpdate","setLastUpdate","realtimeAnalysis","setRealtimeAnalysis","queryClient","ws","reconnectTimer","isComponentMounted","connectWebSocket","readyState","WebSocket","OPEN","close","onopen","_ws","console","log","success","duration","send","JSON","stringify","type","topics","onmessage","event","message","parse","data","Date","topic","_message$data","ai_analysis","aiData","evacuationRecommendation","evacuation_recommendation","alertDuration","alert_duration","riskTrend","risk_trend","threatDetails","threat_details","stormSurge","risk","height","impact","coastalErosion","rate","area","urgency","pollution","level","source","illegalActivity","detected","location","blueCarbonThreat","habitatRisk","carbonLoss","priority","dataSourceStatus","data_sources","sensors","active","total","satellite","status","coverage","freshness","historical","records","timespan","accuracy","updateRealtimeAnalysis","invalidateQueries","error","onclose","code","reason","clearTimeout","window","setTimeout","onerror","riskScore","risk_score","population","zones","timeframe","Math","floor","random","confidence","direction","severity","estimated","coastalData","isLoading","dataLoading","region","undefined","refetchInterval","statistics","statsLoading","trends","trendsLoading","hours","alerts","alertsLoading","limit","handleRegionChange","handleTimeRangeChange","range","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleTimeString","title","value","onChange","e","target","toLocaleString","map","zone","index","style","width","toUpperCase","total_records","icon","change","changeType","high_risk_count","avg_risk_score","toFixed","active_regions","chart_data","length","slice","alert","_c","$RefreshReg$"],"sources":["/Users/omvipulbhairashiya/Desktop/untitled folder/frontend/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useQuery, useQueryClient } from 'react-query';\nimport { \n  AlertTriangle, \n  Activity, \n  TrendingUp, \n  MapPin, \n  Clock,\n  Eye,\n  Zap,\n  Users,\n  Timer,\n  AlertCircle,\n  Waves,\n  Mountain,\n  Droplets,\n  Shield,\n  Leaf,\n  Satellite,\n  Radio,\n  Database,\n  CheckCircle,\n  XCircle\n} from 'lucide-react';\nimport toast from 'react-hot-toast';\n\n// Components\nimport MapView from '../components/MapView.tsx';\nimport RiskChart from '../components/RiskChart.tsx';\nimport StatCard from '../components/StatCard.tsx';\nimport AlertCard from '../components/AlertCard.tsx';\n\n// API\nimport { fetchCoastalData, getAlertHistory, fetchStatistics, fetchTrends } from '../api/coastalData.ts';\n\ninterface RealtimeAnalysis {\n  evacuationRecommendation: {\n    population: number;\n    zones: string[];\n    timeframe: string;\n  };\n  alertDuration: {\n    estimated: string;\n    confidence: number;\n  };\n  riskTrend: {\n    direction: 'increasing' | 'decreasing' | 'stable';\n    severity: 'low' | 'medium' | 'high' | 'critical';\n  };\n  threatDetails: {\n    stormSurge: { risk: number; height: string; impact: string };\n    coastalErosion: { rate: string; area: string; urgency: string };\n    pollution: { level: string; type: string; source: string };\n    illegalActivity: { detected: boolean; type: string; location: string };\n    blueCarbonThreat: { habitatRisk: number; carbonLoss: string; priority: string };\n  };\n  dataSourceStatus: {\n    sensors: { active: number; total: number; lastUpdate: string };\n    satellite: { status: string; coverage: string; freshness: string };\n    historical: { records: number; timespan: string; accuracy: string };\n  };\n}\n\nconst Dashboard: React.FC = () => {\n  const [selectedRegion, setSelectedRegion] = useState<string>('all');\n  const [timeRange, setTimeRange] = useState<string>('24h');\n  const [wsStatus, setWsStatus] = useState<'connecting' | 'connected' | 'disconnected'>('disconnected');\n  const [lastUpdate, setLastUpdate] = useState<Date | null>(null);\n  const [realtimeAnalysis, setRealtimeAnalysis] = useState<RealtimeAnalysis | null>(null);\n  \n  // React Query client for cache invalidation\n  const queryClient = useQueryClient();\n\n  // WebSocket connection for real-time updates\n  useEffect(() => {\n    let ws: WebSocket | null = null;\n    let reconnectTimer: number | null = null;\n    let isComponentMounted = true;\n    \n    const connectWebSocket = () => {\n      if (!isComponentMounted) return;\n      \n      // Clean up existing connection\n      if (ws && ws.readyState === WebSocket.OPEN) {\n        ws.close();\n      }\n      \n      setWsStatus('connecting');\n      ws = new WebSocket('ws://localhost:8000/ws');\n      \n      ws.onopen = () => {\n        if (!isComponentMounted) return;\n        console.log('âœ… WebSocket connected');\n        setWsStatus('connected');\n        toast.success('Real-time connection established', { duration: 2000 });\n        \n        // Subscribe to real-time updates\n        ws?.send(JSON.stringify({\n          type: 'subscribe',\n          topics: ['coastal_data', 'alerts', 'statistics']\n        }));\n      };\n      \n      ws.onmessage = (event) => {\n        if (!isComponentMounted) return;\n        \n        try {\n          const message = JSON.parse(event.data);\n          console.log('ðŸ“¨ WebSocket message received:', message);\n          setLastUpdate(new Date());\n          \n          if (message.type === 'topic_update') {\n            // Handle real-time data updates\n            if (message.topic === 'coastal_data' || message.topic === 'alerts') {\n              // If we have enhanced AI analysis from the server, use it directly\n              if (message.data?.ai_analysis) {\n                const aiData = message.data.ai_analysis;\n                setRealtimeAnalysis({\n                  evacuationRecommendation: aiData.evacuation_recommendation,\n                  alertDuration: aiData.alert_duration,\n                  riskTrend: aiData.risk_trend,\n                  threatDetails: aiData.threat_details || {\n                    stormSurge: { risk: 0.7, height: \"2.5m\", impact: \"Moderate coastal flooding expected\" },\n                    coastalErosion: { rate: \"1.2m/year\", area: \"15 hectares\", urgency: \"Medium\" },\n                    pollution: { level: \"Moderate\", type: \"Industrial runoff\", source: \"Upstream facilities\" },\n                    illegalActivity: { detected: false, type: \"None\", location: \"N/A\" },\n                    blueCarbonThreat: { habitatRisk: 0.6, carbonLoss: \"150 tons CO2/year\", priority: \"High\" }\n                  },\n                  dataSourceStatus: aiData.data_sources || {\n                    sensors: { active: 12, total: 15, lastUpdate: \"2 minutes ago\" },\n                    satellite: { status: \"Operational\", coverage: \"95%\", freshness: \"6 hours\" },\n                    historical: { records: 50000, timespan: \"20 years\", accuracy: \"98%\" }\n                  }\n                });\n              } else {\n                // Fallback to client-side analysis\n                updateRealtimeAnalysis(message.data);\n              }\n              \n              // Trigger refetch of data\n              queryClient.invalidateQueries(['coastalData']);\n              queryClient.invalidateQueries(['statistics']);\n              queryClient.invalidateQueries(['trends']);\n              \n              if (message.topic === 'alerts') {\n                queryClient.invalidateQueries(['alerts']);\n                toast.error('ðŸš¨ New high-risk alert detected!', { duration: 4000 });\n              }\n            }\n          }\n        } catch (error) {\n          console.error('Error parsing WebSocket message:', error);\n        }\n      };\n      \n      ws.onclose = (event) => {\n        if (!isComponentMounted) return;\n        \n        console.log('âŒ WebSocket disconnected', event.code, event.reason);\n        setWsStatus('disconnected');\n        \n        // Only show error toast if it wasn't a normal closure\n        if (event.code !== 1000) {\n          toast.error('Real-time connection lost', { duration: 3000 });\n        }\n        \n        // Clear any existing reconnect timer\n        if (reconnectTimer) {\n          clearTimeout(reconnectTimer);\n        }\n        \n        // Attempt to reconnect after 3 seconds if not a normal closure\n        if (event.code !== 1000 && isComponentMounted) {\n          reconnectTimer = window.setTimeout(() => {\n            if (isComponentMounted) {\n              connectWebSocket();\n            }\n          }, 3000);\n        }\n      };\n      \n      ws.onerror = (error) => {\n        console.error('WebSocket error:', error);\n        if (isComponentMounted) {\n          setWsStatus('disconnected');\n        }\n      };\n    };\n    \n    // Initial connection\n    connectWebSocket();\n    \n    // Cleanup function\n    return () => {\n      isComponentMounted = false;\n      if (reconnectTimer) {\n        clearTimeout(reconnectTimer);\n      }\n      if (ws && ws.readyState === WebSocket.OPEN) {\n        ws.close(1000, 'Component unmounting');\n      }\n    };\n  }, [queryClient]);\n\n  // Function to update real-time AI analysis\n  const updateRealtimeAnalysis = (data: any) => {\n    if (!data) return;\n    \n    const riskScore = data.risk_score || 0;\n    const location = data.location || 'Unknown';\n    \n    // Calculate evacuation recommendations based on risk score\n    let population = 0;\n    let zones: string[] = [];\n    let timeframe = '';\n    \n    if (riskScore > 0.9) {\n      population = Math.floor(Math.random() * 50000) + 20000; // 20k-70k people\n      zones = [`${location} Coastal Zone`, `${location} Low-lying Areas`, 'Emergency Shelters'];\n      timeframe = 'Immediate (0-2 hours)';\n    } else if (riskScore > 0.8) {\n      population = Math.floor(Math.random() * 30000) + 10000; // 10k-40k people\n      zones = [`${location} Coastal Zone`, 'Vulnerable Areas'];\n      timeframe = 'Within 4-6 hours';\n    } else if (riskScore > 0.7) {\n      population = Math.floor(Math.random() * 15000) + 5000; // 5k-20k people\n      zones = [`${location} High-risk Areas`];\n      timeframe = 'Within 12 hours';\n    }\n    \n    // Calculate alert duration\n    let alertDuration = '';\n    let confidence = 0;\n    \n    if (riskScore > 0.9) {\n      alertDuration = '6-12 hours';\n      confidence = 85;\n    } else if (riskScore > 0.8) {\n      alertDuration = '4-8 hours';\n      confidence = 75;\n    } else {\n      alertDuration = '2-4 hours';\n      confidence = 65;\n    }\n    \n    // Determine risk trend\n    const riskTrend = {\n      direction: riskScore > 0.8 ? 'increasing' : riskScore > 0.6 ? 'stable' : 'decreasing' as 'increasing' | 'decreasing' | 'stable',\n      severity: riskScore > 0.9 ? 'critical' : riskScore > 0.8 ? 'high' : riskScore > 0.6 ? 'medium' : 'low' as 'low' | 'medium' | 'high' | 'critical'\n    };\n    \n    setRealtimeAnalysis({\n      evacuationRecommendation: {\n        population,\n        zones,\n        timeframe\n      },\n      alertDuration: {\n        estimated: alertDuration,\n        confidence\n      },\n      riskTrend,\n      threatDetails: {\n        stormSurge: { \n          risk: riskScore, \n          height: riskScore > 0.8 ? \"3.5m\" : riskScore > 0.6 ? \"2.5m\" : \"1.5m\", \n          impact: riskScore > 0.8 ? \"Severe flooding expected\" : \"Moderate coastal impact\" \n        },\n        coastalErosion: { \n          rate: riskScore > 0.7 ? \"2.1m/year\" : \"0.8m/year\", \n          area: `${Math.floor(riskScore * 25)} hectares`, \n          urgency: riskScore > 0.8 ? \"High\" : \"Medium\" \n        },\n        pollution: { \n          level: riskScore > 0.7 ? \"High\" : \"Moderate\", \n          type: \"Multiple sources\", \n          source: \"Industrial and urban runoff\" \n        },\n        illegalActivity: { \n          detected: riskScore > 0.9, \n          type: riskScore > 0.9 ? \"Illegal dumping detected\" : \"None\", \n          location: riskScore > 0.9 ? location : \"N/A\" \n        },\n        blueCarbonThreat: { \n          habitatRisk: riskScore * 0.8, \n          carbonLoss: `${Math.floor(riskScore * 200)} tons CO2/year`, \n          priority: riskScore > 0.8 ? \"Critical\" : riskScore > 0.6 ? \"High\" : \"Medium\" \n        }\n      },\n      dataSourceStatus: {\n        sensors: { \n          active: Math.floor(Math.random() * 3) + 10, \n          total: 15, \n          lastUpdate: \"Real-time\" \n        },\n        satellite: { \n          status: \"Operational\", \n          coverage: `${Math.floor(90 + Math.random() * 10)}%`, \n          freshness: \"4 hours\" \n        },\n        historical: { \n          records: 45000 + Math.floor(Math.random() * 10000), \n          timespan: \"20 years\", \n          accuracy: \"98%\" \n        }\n      }\n    });\n  };\n\n  // Fetch data\n  const { data: coastalData, isLoading: dataLoading } = useQuery(\n    ['coastalData', selectedRegion],\n    () => fetchCoastalData({ region: selectedRegion === 'all' ? undefined : selectedRegion }),\n    { refetchInterval: 30000 } // Refetch every 30 seconds\n  );\n\n  const { data: statistics, isLoading: statsLoading } = useQuery(\n    ['statistics', selectedRegion],\n    () => fetchStatistics(selectedRegion === 'all' ? undefined : selectedRegion)\n  );\n\n  const { data: trends, isLoading: trendsLoading } = useQuery(\n    ['trends', selectedRegion, timeRange],\n    () => fetchTrends({ region: selectedRegion === 'all' ? undefined : selectedRegion, hours: timeRange === '24h' ? 24 : 168 })\n  );\n\n  const { data: alerts, isLoading: alertsLoading } = useQuery(\n    ['alerts'],\n    () => getAlertHistory({ limit: 10 })\n  );\n\n  // Handle region change\n  const handleRegionChange = (region: string) => {\n    setSelectedRegion(region);\n  };\n\n  // Handle time range change\n  const handleTimeRangeChange = (range: string) => {\n    setTimeRange(range);\n  };\n\n  // Loading state\n  if (dataLoading || statsLoading || trendsLoading || alertsLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Coastal Threat Dashboard</h1>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            Real-time monitoring of coastal threats and risk assessment\n          </p>\n          {/* Connection Status */}\n          <div className=\"mt-2 flex items-center space-x-2\">\n            <div className={`w-2 h-2 rounded-full ${\n              wsStatus === 'connected' ? 'bg-green-500' : \n              wsStatus === 'connecting' ? 'bg-yellow-500' : 'bg-red-500'\n            }`}></div>\n            <span className=\"text-xs text-gray-600\">\n              {wsStatus === 'connected' ? 'Real-time connected' : \n               wsStatus === 'connecting' ? 'Connecting...' : 'Connection lost'}\n            </span>\n            {lastUpdate && (\n              <span className=\"text-xs text-gray-500\">\n                Last update: {lastUpdate.toLocaleTimeString()}\n              </span>\n            )}\n          </div>\n        </div>\n        \n        <div className=\"mt-4 sm:mt-0 flex items-center space-x-4\">\n          {/* Region Selector */}\n          <select\n            title=\"Select Region\"\n            value={selectedRegion}\n            onChange={(e) => handleRegionChange(e.target.value)}\n            className=\"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"all\">All Regions</option>\n            <option value=\"Mumbai\">Mumbai</option>\n            <option value=\"Gujarat\">Gujarat</option>\n            <option value=\"Chennai\">Chennai</option>\n          </select>\n          \n          {/* Time Range Selector */}\n          <select\n            title=\"Select Time Range\"\n            value={timeRange}\n            onChange={(e) => handleTimeRangeChange(e.target.value)}\n            className=\"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"24h\">Last 24 Hours</option>\n            <option value=\"7d\">Last 7 Days</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Real-time AI Analysis Section */}\n      {realtimeAnalysis && (\n        <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200\">\n          <div className=\"flex items-center mb-4\">\n            <Zap className=\"h-6 w-6 text-blue-600 mr-2\" />\n            <h2 className=\"text-xl font-semibold text-gray-900\">Real-time AI Analysis</h2>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            {/* Evacuation Recommendation */}\n            <div className=\"bg-white rounded-lg p-4 border border-blue-100\">\n              <div className=\"flex items-center mb-3\">\n                <Users className=\"h-5 w-5 text-orange-600 mr-2\" />\n                <h3 className=\"font-semibold text-gray-900\">Evacuation Recommendation</h3>\n              </div>\n              <div className=\"space-y-2\">\n                <p className=\"text-2xl font-bold text-orange-600\">\n                  {realtimeAnalysis.evacuationRecommendation.population.toLocaleString()}\n                </p>\n                <p className=\"text-sm text-gray-600\">People to evacuate</p>\n                <p className=\"text-sm font-medium text-gray-700\">\n                  Timeframe: {realtimeAnalysis.evacuationRecommendation.timeframe}\n                </p>\n                <div className=\"mt-2\">\n                  <p className=\"text-xs text-gray-500 mb-1\">Priority Zones:</p>\n                  {realtimeAnalysis.evacuationRecommendation.zones.map((zone, index) => (\n                    <span key={index} className=\"inline-block bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full mr-1 mb-1\">\n                      {zone}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Alert Duration */}\n            <div className=\"bg-white rounded-lg p-4 border border-blue-100\">\n              <div className=\"flex items-center mb-3\">\n                <Timer className=\"h-5 w-5 text-purple-600 mr-2\" />\n                <h3 className=\"font-semibold text-gray-900\">Alert Duration</h3>\n              </div>\n              <div className=\"space-y-2\">\n                <p className=\"text-2xl font-bold text-purple-600\">\n                  {realtimeAnalysis.alertDuration.estimated}\n                </p>\n                <p className=\"text-sm text-gray-600\">Estimated duration</p>\n                <div className=\"flex items-center\">\n                  <div className=\"flex-1 bg-gray-200 rounded-full h-2\">\n                    <div \n                      className=\"bg-purple-600 h-2 rounded-full transition-all duration-500\"\n                      style={{\n                        width: `${realtimeAnalysis.alertDuration.confidence}%`\n                      }}\n                    ></div>\n                  </div>\n                  <span className=\"ml-2 text-sm text-gray-600\">\n                    {realtimeAnalysis.alertDuration.confidence}%\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            {/* Risk Trend */}\n            <div className=\"bg-white rounded-lg p-4 border border-blue-100\">\n              <div className=\"flex items-center mb-3\">\n                <TrendingUp className=\"h-5 w-5 text-green-600 mr-2\" />\n                <h3 className=\"font-semibold text-gray-900\">Risk Trend</h3>\n              </div>\n              <div className=\"space-y-2\">\n                <div className=\"flex items-center\">\n                  <span className={`inline-block w-3 h-3 rounded-full mr-2 ${\n                    realtimeAnalysis.riskTrend.direction === 'increasing' ? 'bg-red-500' :\n                    realtimeAnalysis.riskTrend.direction === 'decreasing' ? 'bg-green-500' : 'bg-yellow-500'\n                  }`}></span>\n                  <p className=\"text-lg font-semibold capitalize\">\n                    {realtimeAnalysis.riskTrend.direction}\n                  </p>\n                </div>\n                <p className=\"text-sm text-gray-600\">\n                  Severity: <span className={`font-medium ${\n                    realtimeAnalysis.riskTrend.severity === 'critical' ? 'text-red-600' :\n                    realtimeAnalysis.riskTrend.severity === 'high' ? 'text-orange-600' :\n                    realtimeAnalysis.riskTrend.severity === 'medium' ? 'text-yellow-600' : 'text-green-600'\n                  }`}>\n                    {realtimeAnalysis.riskTrend.severity.toUpperCase()}\n                  </span>\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <StatCard\n          title=\"Total Data Points\"\n          value={statistics?.total_records || 0}\n          icon={Activity}\n          change=\"+12%\"\n          changeType=\"positive\"\n        />\n        <StatCard\n          title=\"High Risk Alerts\"\n          value={statistics?.high_risk_count || 0}\n          icon={AlertTriangle}\n          change=\"+5%\"\n          changeType=\"negative\"\n        />\n        <StatCard\n          title=\"Average Risk Score\"\n          value={statistics?.avg_risk_score ? (statistics.avg_risk_score * 100).toFixed(1) + '%' : '0%'}\n          icon={TrendingUp}\n          change=\"+3%\"\n          changeType=\"negative\"\n        />\n        <StatCard\n          title=\"Active Regions\"\n          value={statistics?.active_regions || 0}\n          icon={MapPin}\n          change=\"+1\"\n          changeType=\"positive\"\n        />\n      </div>\n\n      {/* Charts and Map */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Risk Trends Chart */}\n        <div className=\"bg-white p-6 rounded-lg shadow\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold\">Risk Trends</h3>\n            <div className=\"flex items-center text-sm text-gray-500\">\n              <Clock className=\"h-4 w-4 mr-1\" />\n              {timeRange === '24h' ? 'Last 24 Hours' : 'Last 7 Days'}\n            </div>\n          </div>\n          <RiskChart data={trends?.chart_data || []} />\n        </div>\n\n        {/* Map View */}\n        <div className=\"bg-white p-6 rounded-lg shadow\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold\">Geographic Distribution</h3>\n            <div className=\"flex items-center text-sm text-gray-500\">\n              <Eye className=\"h-4 w-4 mr-1\" />\n              {selectedRegion === 'all' ? 'All Regions' : selectedRegion}\n            </div>\n          </div>\n          <MapView data={coastalData || []} selectedRegion={selectedRegion} />\n        </div>\n      </div>\n\n      {/* Recent Alerts */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-semibold flex items-center\">\n            <AlertCircle className=\"h-5 w-5 mr-2 text-red-500\" />\n            Recent Alerts\n          </h3>\n        </div>\n        <div className=\"p-6\">\n          {alerts && alerts.length > 0 ? (\n            <div className=\"space-y-4\">\n              {alerts.slice(0, 5).map((alert: any, index: number) => (\n                <AlertCard key={index} alert={alert} />\n              ))}\n            </div>\n          ) : (\n            <p className=\"text-gray-500 text-center py-8\">No recent alerts</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}